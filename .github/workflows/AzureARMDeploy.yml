# https://www.youtube.com/watch?v=FeSMRFkaRIU
# This is a basic workflow to help you get started with Actions - why did this not check in.

on: [push]

name: AzureARMDeploy

jobs:

  deploy:
    runs-on: ubuntu-latest
    steps:

      - name: Login to Azure
        uses: azure/login@v1
        with:
          creds: ${{ secrets.AZURE_CREDENTIALS }}
           
      - name: Checkout source code
        uses: actions/checkout@v2

      - name: Deploy ARM Template
        uses: azure/CLI@v1
        with:
            inlineScript: |
                az deployment group create \
                --name storageaccount01971_1771875775808 \
                --resource-group DockerTests \
                --template-file storageaccount.json \
                --parameters storageAccountType=Standard_GRS


# storageaccount01971
# storageaccount01971_1771875775808
# # This is a basic workflow to help you get started with Actions
# 
# name: CI
# 
# # Controls when the action will run. Triggers the workflow on push or pull requests
# # events but only for the master branch
# on:
#   push:
#     branches : [ master ]
#   pull_request:
#     branches : [ master ]
# # A workflow run is made up of one or more jobs that can run sequentially or in parallel
# jobs:
#   # This workflow contains a single job called "build"
#   build:
#     # The type of runner that the job will run on
#     runs-on: ubuntu-latest
# 
#     # Steps represent a sequence of tasks that will be executed as part of the job
#     steps:
#       # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
#       - uses: actions/checkout@v2
# 
#       # Runs a single command using the runners shell
#       - name: Run a one-line script
#         run: echo Hello, world!
# 
#       # Runs a set of commands using the runners shell
#       - name: Run a multi-line script
#         run: |
#           echo Add other transactions to build,
#           echo test, and deploy your project.
#           
# 
